<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="/homepageStyle.css">
    <!--Kode så man ikke kan komme til bage på siden ved brug af back arrow, efter man er logget ud-->
    <script type = "text/javascript" >
      function preventBack(){window.history.forward();}
       setTimeout("preventBack()", 0);
       window.onunload=function(){null};
   </script>
   <script type="text/javascript">
  function remove() {
    var elem = document.getElementById('user2');
    elem.parentNode.removeChild(elem);
    return false;
}</script>
  </head>
<body>
  <div id="mainDiv">
    <div id="profil">
        <h1 id="header">Din Profil</h1>
        <br><br>
        
        <% if (user) { %>
            <h3 id="username"><%= user.username %></h3>
          
    
          <ul>
            
                <li>Email: <%= user.email %></li>
             <br>
                <li>City: <%= user.city %></li>
             <br>
                <li>Gender: <%= user.gender%></li>
             <br>
                <li>Preferred Gender: <%= user.preferredGender%></li>
              <br>
                <li>Date of Birth: <%= user.dob%></li>
              <br>
                <li>Interests: <%= user.interests%></li>
                <% } %>
          </ul>
          <a href="/users/login/<%= user.id %>/edit">Edit</a>
          <!-- Bruger method-override for at kunne bruge put og delete i form. -->
          <br><br>
          <form action="/users/login/<%= user.id %>?_method=DELETE" method="POST">
              <button type="submit">Delete</button>
          </form>
          <form action="http://localhost:3000/users/logout" method="GET" role="form" enctype="application/json">
            <button type="submit">Logout</button>
          </form>
    </div>

    <div id="matches">

      <% if (listUsers) { %>
        <h1 id="header2">Possible Matches</h1>
        
       
        <ul>
          <h3>User 1</h3>
          <form action="http://localhost:3000/users/likes" method="POST">
            <li> Name: <%=listUsers[0].username%> </li>
            <li> Age: <%=listUsers[0].dob%> </li>
            <li> Interest: <%=listUsers[0].interests%> </li>
            <li> Email: <%=listUsers[0].email%> </li>
            <input type="text" data-id="<%= user.id %>" value="<%=listUsers[0].id%>" name="id">
            <button type="submit">Like</button>
          </form>
            <button type="submit">Dislike</button>
        
<br>
      <div id="user2">
    <h3>User 2</h3>
            <li> Name: <%=listUsers[1].username%> </li>
            <li> Age: <%=listUsers[1].dob%> </li>
            <li> Interest: <%=listUsers[1].interests%> </li>
            <li> Email: <%=listUsers[1].email%> </li>
            <button type="submit">Like</button>
            <input type="button" value="Dislike" onclick="remove()"/>
      </div>
<br> 

        </ul>
        <% } %>

    </div>
  </div>
    
</body>
</html>